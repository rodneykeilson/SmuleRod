Community.CreationPlayer={init:function(){},initPlayer:function(e){this.config=e,this.$body=$("body"),this.$recordingFrame=$(".recording-frame"),this.$performanceCoverDone=$(".performance-cover-done"),this.recording=new Community.Widgets.Recording.Model(this.config.performance),this.startPlayback(),this.updateTimestamps(),this.initInteractions()},initInteractions:function(){var e=$(".frame-share-modal");e.length&&($(".bug-icon").on("click",function(i){i.preventDefault(),e.show()}),this.sharingModal=new Community.SocialShare.SocialLinks({el:e,model:this.recording}),e.find("input[type=text]").on("click",function(e){$(e.target).closest("input").select()})),$(".app-icon").on("click",function(e){e.preventDefault(),$(".frame-app-modal").show()}),$(".modal-close").on("click",function(e){e.preventDefault(),$(e.target).closest(".frame-modal").hide()})},startPlayback:function(){var e=this;this.player=Community.Widgets.Player.getPlayer({eventCategory:this.config.event_category,eventLabel:this.config.event_label,autoPlay:this.config.autoplay,playNewMedia:!1,skipSeconds:this.config.skip_seconds,recording:this.recording,disableSocial:!0}),this.recording.isVideo()&&this.player.jPlayer.on("click",$.proxy(function(){this.player.togglePlayback()},this));var i=function(){this.$performanceCoverDone.hide(),this.$recordingFrame.removeClass("hide-overlays").addClass("show-overlays")}.bind(this),o=function(){this.$recordingFrame.hasClass("playing")&&(this.$performanceCoverDone.hide(),this.$recordingFrame.addClass("hide-overlays").removeClass("show-overlays"))}.bind(this);this.showOverlaysFlag=!1,this.player.on("player_play",function(){this.$recordingFrame.addClass("playing"),o()}.bind(this)).on("player_pause",function(){this.$recordingFrame.removeClass("playing"),i()}.bind(this)).on("player_song_end",function(e){this.$performanceCoverDone.show(),this.$recordingFrame.removeClass("hide-overlays playing").addClass("show-overlays")}.bind(this)),this.$body.on("mouseenter",function(e){this.showOverlaysTimeout&&clearTimeout(this.showOverlaysTimeout),this.$recordingFrame.hasClass("playing")&&!this.$recordingFrame.hasClass("show-overlays")&&(i(),this.showOverlaysTimeout=setTimeout(o,5e3),this.$body.on("mousemove.overlay",function(){this.showOverlaysTimeout&&clearTimeout(this.showOverlaysTimeout),this.showOverlaysTimeout=setTimeout(o,5e3)}.bind(this)))}.bind(this)),this.$body.on("mouseleave",function(e){this.$recordingFrame.hasClass("playing")&&(this.showOverlaysTimeout&&clearTimeout(this.showOverlaysTimeout),o(),this.$body.off(".overlay"))}.bind(this)),$(".performance-cover-done-replay").on("click",function(i){i.preventDefault(),e.player.play()})},updateTimestamps:function(){$(".main .timeago").timeago()}};
//# sourceMappingURL=http://bld1.sf.smle.co/web/web-prod/maps/community/player_frame.js-9b1955254fd1f0d9007c7112263408c9.map
